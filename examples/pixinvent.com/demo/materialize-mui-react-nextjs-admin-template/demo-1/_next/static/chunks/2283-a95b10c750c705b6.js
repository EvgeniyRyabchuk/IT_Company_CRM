"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2283],{42283:function(e,r,t){t.d(r,{KN:function(){return T},Qr:function(){return B},U2:function(){return o},cI:function(){return pe},t8:function(){return U}});var n=t(67294),s=e=>"checkbox"===e.type,u=e=>null==e;const c=e=>"object"===typeof e;var i=e=>!u(e)&&!Array.isArray(e)&&c(e)&&!(e instanceof Date),a=e=>e.filter(Boolean),l=e=>void 0===e,o=(e={},r,t)=>{const n=a(r.split(/[,[\].]+?/)).reduce(((e,r)=>u(e)?e:e[r]),e);return l(n)||n===e?l(e[r])?t:e[r]:n};const f="blur",d="change",b="onBlur",g="onChange",y="onSubmit",h="onTouched",m="all",v="undefined",O="max",p="min",j="maxLength",k="minLength",V="pattern",_="required",w="validate";var A=(e,r)=>{const t=Object.assign({},e);return delete t[r],t};const x=n.createContext(null);x.displayName="RHFContext";const S=()=>n.useContext(x);var R=(e,r,t,n,s=!0)=>e?new Proxy(r,{get:(e,r)=>{if(r in e)return t.current[r]!==m&&(t.current[r]=!s||m),n&&(n.current[r]=!0),e[r]}}):r,C=e=>i(e)&&!Object.keys(e).length,F=(e,r,t)=>C(e)||Object.keys(e).length>=Object.keys(r).length||Object.keys(e).find((e=>r[e]===(!t||m))),D=typeof window!==v&&typeof window.HTMLElement!==v&&typeof document!==v;const E=D?"Proxy"in window:typeof Proxy!==v;function N({name:e,rules:r,defaultValue:t,control:u,shouldUnregister:c}){const a=S(),{defaultValuesRef:b,register:g,fieldsRef:y,unregister:h,controllerSubjectRef:m,shouldUnmountUnregister:v}=u||a.control,{onChange:O,onBlur:p,ref:j}=g(e,r),[k,V]=n.useState(l(o(y.current,e)._f.value)?l(t)?o(b.current,e):t:o(y.current,e)._f.value),_=function(e){const r=S(),{formStateRef:t,formStateSubjectRef:s,readFormStateRef:u}=e&&e.control||r.control,[c,i]=n.useState(t.current),a=n.useRef({isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1});return n.useEffect((()=>{const e=s.current.subscribe({next:e=>{F(e,a.current)&&i(Object.assign(Object.assign({},t.current),e))}});return()=>e.unsubscribe()}),[]),R(E,c,u,a,!1)}({control:u||a.control});return o(y.current,e)._f.value=k,n.useEffect((()=>{const r=m.current.subscribe({next:r=>(!r.name||e===r.name)&&V(o(r.values,e))});return j({target:k}),()=>{r.unsubscribe(),(v||c)&&h(e)}}),[e]),{field:{onChange:r=>{const t=(e=>i(e)&&e.target?s(e.target)?e.target.checked:e.target.value:e)(r);V(t),O({target:{value:t,name:e},type:d})},onBlur:()=>{p({target:{name:e},type:f})},name:e,value:k,ref:e=>e&&j(e)},formState:_,fieldState:Object.defineProperties({},{invalid:{get:()=>!!o(_.errors,e)},isDirty:{get:()=>!!o(_.dirtyFields,e)},isTouched:{get:()=>!!o(_.touchedFields,e)},error:{get:()=>o(_.errors,e)}})}}const B=e=>e.render(N(e));var T=(e,r,t,n,s)=>r?Object.assign(Object.assign({},t[e]),{types:Object.assign(Object.assign({},t[e]&&t[e].types?t[e].types:{}),{[n]:s||!0})}):{},M=e=>/^\w*$/.test(e),L=e=>a(e.replace(/["|']|\]/g,"").split(/\.|\[/));function U(e,r,t){let n=-1;const s=M(r)?[r]:L(r),u=s.length,c=u-1;for(;++n<u;){const r=s[n];let u=t;if(n!==c){const t=e[r];u=i(t)||Array.isArray(t)?t:isNaN(+s[n+1])?{}:[]}e[r]=u,e=e[r]}return e}const I=(e,r,t)=>{for(const n of t||Object.keys(e)){const t=o(e,n);if(t){const e=t._f,n=A(t,"_f");if(e&&r(e.name)){if(e.ref.focus&&l(e.ref.focus()))break;if(e.refs){e.refs[0].focus();break}}else i(n)&&I(n,r)}}},P=(e,r,t={})=>{for(const n in e.current){const s=e.current[n];if(s){const e=s._f,u=A(s,"_f");U(t,n,e?e.ref.disabled||e.refs&&e.refs.every((e=>e.disabled))?void 0:e.value:Array.isArray(s)?[]:{}),u&&P({current:u},r,t[n])}}return Object.assign(Object.assign({},r),t)};var q=e=>e.substring(0,e.search(/.\d/))||e,H=e=>u(e)||!c(e);function W(e,r,t){if(H(e)||H(r)||e instanceof Date||r instanceof Date)return e===r;if(!n.isValidElement(e)){const n=Object.keys(e),s=Object.keys(r);if(n.length!==s.length)return!1;for(const u of n){const n=e[u];if(!t||"ref"!==u){const e=r[u];if((i(n)||Array.isArray(n))&&(i(e)||Array.isArray(e))?!W(n,e,t):n!==e)return!1}}}return!0}function $(e,r){if(H(e)||H(r))return r;for(const n in r){const s=e[n],u=r[n];try{e[n]=i(s)&&i(u)||Array.isArray(s)&&Array.isArray(u)?$(s,u):u}catch(t){}}return e}function z(e,r,t,n,s){let u=-1;for(;++u<e.length;){for(const n in e[u])Array.isArray(e[u][n])?(!t[u]&&(t[u]={}),t[u][n]=[],z(e[u][n],o(r[u]||{},n,[]),t[u][n],t[u],n)):W(o(r[u]||{},n),e[u][n])?U(t[u]||{},n):t[u]=Object.assign(Object.assign({},t[u]),{[n]:!0});n&&!t.length&&delete n[s]}return t}var K=(e,r,t)=>$(z(e,r,t.slice(0,e.length)),z(r,e,t.slice(0,e.length)));var Q=e=>"boolean"===typeof e;function G(e,r){const t=M(r)?[r]:L(r),n=1==t.length?e:function(e,r){const t=r.slice(0,-1).length;let n=0;for(;n<t;)e=l(e)?n++:e[r[n++]];return e}(e,t),s=t[t.length-1];let u;n&&delete n[s];for(let c=0;c<t.slice(0,-1).length;c++){let r,n=-1;const s=t.slice(0,-(c+1)),a=s.length-1;for(c>0&&(u=e);++n<s.length;){const t=s[n];r=r?r[t]:e[t],a===n&&(i(r)&&C(r)||Array.isArray(r)&&!r.filter((e=>i(e)&&!C(e)||Q(e))).length)&&(u?delete u[t]:delete e[t]),u=r}}return e}function J(e,r){const t={};for(const n of e){const e=o(r,n);e&&(M(n)?t[n]=e._f:U(t,n,e._f))}return t}var X=e=>"file"===e.type,Y=e=>"select-multiple"===e.type,Z=e=>"radio"===e.type;const ee={value:!1,isValid:!1},re={value:!0,isValid:!0};var te=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!l(e[0].attributes.value)?l(e[0].value)||""===e[0].value?re:{value:e[0].value,isValid:!0}:re:ee}return ee};const ne={isValid:!1,value:null};var se=e=>Array.isArray(e)?e.reduce(((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e),ne):ne;function ue(e){if(e&&e._f){const t=e._f.ref;if(t.disabled)return;return X(t)?t.files:Z(t)?se(e._f.refs).value:Y(t)?(r=t.options,[...r].filter((({selected:e})=>e)).map((({value:e})=>e))):s(t)?te(e._f.refs).value:((e,{valueAsNumber:r,valueAsDate:t,setValueAs:n})=>r?""===e?NaN:+e:t?new Date(e):n?n(e):e)(l(t.value)?e._f.ref.value:t.value,e._f)}var r}var ce=e=>e&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),ie=e=>"function"===typeof e,ae=e=>"string"===typeof e,le=e=>ae(e)||n.isValidElement(e),oe=e=>e instanceof RegExp;function fe(e,r,t="validate"){if(le(e)||Q(e)&&!e)return{type:t,message:le(e)?e:"",ref:r}}var de=e=>i(e)&&!oe(e)?e:{value:e,message:""},be=async({_f:{ref:e,refs:r,required:t,maxLength:n,minLength:c,min:a,max:l,pattern:o,validate:f,name:d,value:b,valueAsNumber:g}},y)=>{const h={},m=Z(e),v=s(e),A=m||v,x=(g||X(e))&&!e.value||""===b||Array.isArray(b)&&!b.length,S=T.bind(null,d,y,h),R=(r,t,n,s=j,u=k)=>{const c=r?t:n;h[d]=Object.assign({type:r?s:u,message:c,ref:e},S(r?s:u,c))};if(t&&(!m&&!v&&(x||u(b))||Q(b)&&!b||v&&!te(r).isValid||m&&!se(r).isValid)){const{value:n,message:s}=le(t)?{value:!!t,message:t}:de(t);if(n&&(h[d]=Object.assign({type:_,message:s,ref:A?(r||[])[0]||{}:e},S(_,s)),!y))return h}if((!u(a)||!u(l))&&""!==b){let r,t;const n=de(l),s=de(a);if(isNaN(b)){const u=e.valueAsDate||new Date(b);ae(n.value)&&(r=u>new Date(n.value)),ae(s.value)&&(t=u<new Date(s.value))}else{const c=e.valueAsNumber||parseFloat(b);u(n.value)||(r=c>n.value),u(s.value)||(t=c<s.value)}if((r||t)&&(R(!!r,n.message,s.message,O,p),!y))return h}if(ae(b)&&!x&&(n||c)){const e=de(n),r=de(c),t=!u(e.value)&&b.length>e.value,s=!u(r.value)&&b.length<r.value;if((t||s)&&(R(t,e.message,r.message),!y))return h}if(ae(b)&&o&&!x){const{value:r,message:t}=de(o);if(oe(r)&&!b.match(r)&&(h[d]=Object.assign({type:V,message:t,ref:e},S(V,t)),!y))return h}if(f){const t=A&&r?r[0]:e;if(ie(f)){const e=fe(await f(b),t);if(e&&(h[d]=Object.assign(Object.assign({},e),S(w,e.message)),!y))return h}else if(i(f)){let e={};for(const[r,n]of Object.entries(f)){if(!C(e)&&!y)break;const s=fe(await n(b),t,r);s&&(e=Object.assign(Object.assign({},s),S(r,s.message)),y&&(h[d]=e))}if(!C(e)&&(h[d]=Object.assign({ref:t},e),!y))return h}}return h},ge=e=>({isOnSubmit:!e||e===y,isOnBlur:e===b,isOnChange:e===g,isOnAll:e===m,isOnTouch:e===h}),ye=e=>e instanceof HTMLElement;class he{constructor(){this.tearDowns=[]}add(e){this.tearDowns.push(e)}unsubscribe(){for(const e of this.tearDowns)e();this.tearDowns=[]}}class me{constructor(e,r){this.observer=e,this.closed=!1,r.add((()=>this.closed=!0))}next(e){this.closed||this.observer.next(e)}}class ve{constructor(){this.observers=[]}next(e){for(const r of this.observers)r.next(e)}subscribe(e){const r=new he,t=new me(e,r);return this.observers.push(t),r}unsubscribe(){this.observers=[]}}const Oe=typeof window===v;function pe({mode:e=y,reValidateMode:r=g,resolver:t,context:c,defaultValues:i={},shouldFocusError:d=!0,shouldUnregister:b,criteriaMode:h}={}){const v=n.useRef({}),O=n.useRef(new Set),p=n.useRef(new ve),j=n.useRef(new ve),k=n.useRef(new ve),V=n.useRef(new ve),_=n.useRef({}),w=n.useRef(new Set),x=n.useRef(!1),S=n.useRef({}),N=n.useRef({}),B=n.useRef(i),T=n.useRef(!1),M=n.useRef(c),L=n.useRef(t),H=n.useRef(new Set),$=ge(e),z=h===m,[Q,ee]=n.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!$.isOnSubmit,errors:{}}),re=n.useRef({isDirty:!E,dirtyFields:!E,touchedFields:!E,isValidating:!E,isValid:!E,errors:!E}),te=n.useRef(Q);M.current=c,L.current=t;const ne=()=>te.current.isValid=W(N.current,S.current)&&C(te.current.errors),se=n.useCallback(((e,r,t=!1,n={},s,c)=>{const i=o(te.current.errors,e);let a=t||!W(i,r,!0)||re.current.isValid&&l(r)&&o(S.current,e)&&!o(N.current,e);if(r?(G(N.current,e),a=a||!i||!W(i,r,!0),U(te.current.errors,e,r)):((o(S.current,e)||L.current)&&(U(N.current,e,!0),a=a||i),G(te.current.errors,e)),a&&!u(t)||!C(n)||c){const e=Object.assign(Object.assign({},n),{isValid:L.current?!!s:ne(),errors:te.current.errors});te.current=Object.assign(Object.assign({},te.current),e),p.current.next(c?{}:e)}p.current.next({isValidating:!1})}),[]),le=n.useCallback(((e,r,t={},n,c)=>{c&&Ce(e);const i=o(v.current,e,{})._f;if(i){const c=D&&ye(i.ref)&&u(r)?"":r;if(i.value=r,Z(i.ref)?(i.refs||[]).forEach((e=>e.checked=e.value===c)):X(i.ref)&&!ae(c)?i.ref.files=c:Y(i.ref)?[...i.ref.options].forEach((e=>e.selected=c.includes(e.value))):s(i.ref)&&i.refs?i.refs.length>1?i.refs.forEach((e=>e.checked=Array.isArray(c)?!!c.find((r=>r===e.value)):c===e.value)):i.refs[0].checked=!!c:i.ref.value=c,n){const t=P(v);U(t,e,r),k.current.next({values:Object.assign(Object.assign({},B.current),t),name:e})}t.shouldDirty&&fe(e,c),t.shouldValidate&&pe(e)}}),[]),oe=n.useCallback(((e,r)=>{const t=P(v);return e&&r&&U(t,e,r),!W(t,B.current)}),[]),fe=n.useCallback(((e,r,t=!0)=>{if(re.current.isDirty||re.current.dirtyFields){const n=!W(o(B.current,e),r),s=o(te.current.dirtyFields,e),u=te.current.isDirty;n?U(te.current.dirtyFields,e,!0):G(te.current.dirtyFields,e),te.current.isDirty=oe();const c={isDirty:te.current.isDirty,dirtyFields:te.current.dirtyFields},i=re.current.isDirty&&u!==c.isDirty||re.current.dirtyFields&&s!==o(te.current.dirtyFields,e);return i&&t&&p.current.next(c),i?c:{}}return{}}),[]),de=n.useCallback((async(e,r)=>{const t=(await be(o(v.current,e),z))[e];return se(e,t,r),l(t)}),[z]),he=n.useCallback((async(e,r=[])=>{const{errors:t}=await L.current(P(v,b?{}:B.current),M.current,{criteriaMode:h,names:r,fields:J(O.current,v.current)});for(const n of e){const e=o(t,n);e?U(te.current.errors,n,e):G(te.current.errors,n)}return t}),[h]),me=async e=>{for(const r in e){const t=e[r];if(t){const e=t._f,r=A(t,"_f");if(e){const r=await be(t,z);r[e.name]?(U(te.current.errors,e.name,r[e.name]),G(N.current,e.name)):o(S.current,e.name)&&(U(N.current,e.name,!0),G(te.current.errors,e.name))}r&&await me(r)}}},pe=n.useCallback((async e=>{const r=l(e)?Object.keys(v.current):Array.isArray(e)?e:[e];let t;return p.current.next({isValidating:!0}),t=L.current?C(await he(r,l(e)?void 0:r)):!!(l(e)?await me(v.current):(await Promise.all(r.filter((e=>o(v.current,e))).map((async e=>await de(e,null))))).every(Boolean)),p.current.next({errors:te.current.errors,isValidating:!1,isValid:L.current?t:ne()}),t}),[he,de]),je=n.useCallback(((e,r,t)=>Object.entries(r).forEach((([r,n])=>{const s=`${e}.${r}`,u=o(v.current,s);u&&!u._f?je(s,n,t):le(s,n,t,!0,!u)}))),[pe]),ke=e=>T.current||w.current.has(e)||w.current.has((e.match(/\w+/)||[])[0]),Ve=(e,r,t,n)=>{const s=o(v.current,e),u=l(s._f.value)?o(B.current,e):s._f.value;return s&&!l(u)&&(t&&t.defaultChecked?s._f.value=ue(s):H.current.size&&[...H.current].find((r=>e.startsWith(r)))?s._f.value=u:le(e,u)),(!l(u)||n)&&ce(r)&&!$.isOnSubmit&&s&&re.current.isValid&&be(s,z).then((r=>{C(r)?U(N.current,e,!0):G(N.current,e),te.current.isValid!==ne()&&ee(Object.assign(Object.assign({},te.current),{isValid:ne()}))})),u},_e=n.useCallback((async({type:e,target:t,target:{value:n,type:u}})=>{let c,i,a=t.name;const d=o(v.current,a);if(d){let g=u?ue(d):void 0;g=l(g)?n:g;const y=e===f,{isOnBlur:m,isOnChange:O}=ge(r),k=!ce(d._f)&&!L.current&&!o(te.current.errors,a)||(({isOnBlur:e,isOnChange:r,isOnTouch:t,isTouched:n,isReValidateOnBlur:s,isReValidateOnChange:u,isBlurEvent:c,isSubmitted:i,isOnAll:a})=>!a&&(!i&&t?!(n||c):(i?s:e)?!c:!(i?u:r)||c))(Object.assign({isBlurEvent:y,isTouched:!!o(te.current.touchedFields,a),isSubmitted:te.current.isSubmitted,isReValidateOnBlur:m,isReValidateOnChange:O},$)),V=!y&&ke(a);l(g)||(d._f.value=g);const _=fe(a,d._f.value,!1);y&&!o(te.current.touchedFields,a)&&(U(te.current.touchedFields,a,!0),re.current.touchedFields&&(_.touchedFields=te.current.touchedFields));let w=!C(_)||V;if(k)return!y&&j.current.next({name:a,type:e,value:g}),w&&p.current.next(V?{}:_);if(p.current.next({isValidating:!0}),L.current){const{errors:e}=await L.current(P(v,b?{}:B.current),M.current,{criteriaMode:h,fields:J([a],v.current),names:[a]}),r=te.current.isValid;if(c=o(e,a),s(t)&&!c){const r=q(a),t=o(e,r,{});t.type&&t.message&&(c=t),(t||o(te.current.errors,r))&&(a=r)}i=C(e),r!==i&&(w=!0)}else c=(await be(d,z))[a];!y&&j.current.next({name:a,type:e,value:g}),se(a,c,w,_,i,V)}}),[]),we=e=>{const r=x.current?P(v,b?{}:B.current):B.current;return l(e)?r:ae(e)?o(r,e):e.map((e=>o(r,e)))},Ae=n.useCallback((async(e={})=>{const r=te.current.isValid;if(t){const{errors:r}=await L.current(Object.assign(Object.assign({},P(v,b?{}:B.current)),e),M.current,{criteriaMode:h,fields:J(O.current,v.current)});te.current.isValid=C(r)}else ne();r!==te.current.isValid&&p.current.next({isValid:te.current.isValid})}),[h]),xe=n.useCallback(((e,r,t)=>{const n=Array.isArray(e),s=x.current?we():l(r)?B.current:n?r||{}:{[e]:r};if(l(e))return t&&(T.current=!0),s;const u=[];for(const c of n?e:[e])t&&w.current.add(c),u.push(o(s,c));return n?u:u[0]}),[]),Se=(e,r={},t)=>{for(const n of e?Array.isArray(e)?e:[e]:Object.keys(O.current))O.current.delete(n),H.current.delete(n),o(v.current,n)&&(r.keepIsValid||(G(S.current,n),G(N.current,n)),!r.keepError&&G(te.current.errors,n),!r.keepValue&&G(v.current,n),!r.keepDirty&&G(te.current.dirtyFields,n),!r.keepTouched&&G(te.current.touchedFields,n),(!b||t)&&!r.keepDefaultValue&&G(B.current,n),t&&j.current.next({name:n}));t&&(p.current.next(Object.assign(Object.assign(Object.assign({},te.current),r.keepDirty?{isDirty:oe()}:{}),L.current?{}:{isValid:ne()})),!r.keepIsValid&&Ae())},Re=(e,r,t)=>{Ce(e);let n=o(v.current,e);const u=(e=>Z(e)||s(e))(r);if(r===n._f.ref||D&&ye(n._f.ref)&&!ye(r)||u&&Array.isArray(n._f.refs)&&a(n._f.refs).find((e=>e===r)))return;n={_f:u?Object.assign(Object.assign({},n._f),{refs:[...a(n._f.refs||[]).filter((e=>ye(e)&&document.contains(e))),r],ref:{type:r.type,name:e}}):Object.assign(Object.assign({},n._f),{ref:r})},U(v.current,e,n);const c=Ve(e,t,r,!0);(u&&Array.isArray(c)?!W(o(v.current,e)._f.value,c):l(o(v.current,e)._f.value))&&(o(v.current,e)._f.value=ue(o(v.current,e)))},Ce=n.useCallback(((e,r)=>{const t=!o(v.current,e);return U(v.current,e,{_f:Object.assign(Object.assign(Object.assign({},t?{ref:{name:e}}:Object.assign({ref:(o(v.current,e)._f||{}).ref},o(v.current,e)._f)),{name:e}),r)}),ce(r)&&U(S.current,e,!0),O.current.add(e),t&&Ve(e,r),Oe?{name:e}:{name:e,onChange:_e,onBlur:_e,ref:t=>t?Re(e,t,r):(b||r&&r.shouldUnregister)&&Se(e)}}),[B.current]),Fe=n.useCallback(((e,r)=>async t=>{t&&(t.preventDefault&&t.preventDefault(),t.persist&&t.persist());let n=Object.assign(Object.assign({},b?{}:B.current),P(v));p.current.next({isSubmitting:!0});try{if(L.current){const{errors:e,values:r}=await L.current(n,M.current,{criteriaMode:h,fields:J(O.current,v.current)});te.current.errors=e,n=r}else await me(v.current);C(te.current.errors)&&Object.keys(te.current.errors).every((e=>o(n,e)))?(p.current.next({errors:{},isSubmitting:!0}),await e(n,t)):(r&&await r(te.current.errors,t),d&&I(v.current,(e=>o(te.current.errors,e)),O.current))}finally{te.current.isSubmitted=!0,p.current.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:C(te.current.errors),submitCount:te.current.submitCount+1,errors:te.current.errors})}}),[d,z,h]),De=n.useCallback((({keepErrors:e,keepDirty:r,keepIsSubmitted:t,keepTouched:n,keepDefaultValues:s,keepIsValid:u,keepSubmitCount:c},i)=>{u||(N.current={},S.current={}),w.current=new Set,T.current=!1,p.current.next({submitCount:c?te.current.submitCount:0,isDirty:r?te.current.isDirty:!!s&&W(i,B.current),isSubmitted:!!t&&te.current.isSubmitted,isValid:u?te.current.isValid:!!Ae(i),dirtyFields:r?te.current.dirtyFields:{},touchedFields:n?te.current.touchedFields:{},errors:e?te.current.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})}),[]);return n.useEffect((()=>{const e=p.current.subscribe({next(e={}){F(e,re.current,!0)&&(te.current=Object.assign(Object.assign({},te.current),e),ee(te.current))}}),r=V.current.subscribe({next(e){if(e.fields&&e.name&&re.current.isValid){const r=P(v);U(r,e.name,e.fields),Ae(r)}}});return L.current&&re.current.isValid&&Ae(),()=>{j.current.unsubscribe(),e.unsubscribe(),r.unsubscribe()}}),[]),n.useEffect((()=>{x.current=!0})),{control:n.useMemo((()=>({register:Ce,isWatchAllRef:T,watchFieldsRef:w,getIsDirty:oe,formStateSubjectRef:p,fieldArraySubjectRef:V,controllerSubjectRef:k,watchSubjectRef:j,watchInternal:xe,fieldsRef:v,validFieldsRef:N,fieldsWithValidationRef:S,fieldArrayNamesRef:H,readFormStateRef:re,formStateRef:te,defaultValuesRef:B,fieldArrayDefaultValuesRef:_,unregister:Se,shouldUnmountUnregister:b})),[]),formState:R(E,Q,re),trigger:pe,register:Ce,handleSubmit:Fe,watch:n.useCallback(((e,r)=>ie(e)?j.current.subscribe({next:t=>e(xe(void 0,r),t)}):xe(e,r,!0)),[]),setValue:n.useCallback(((e,r,t={})=>{const n=o(v.current,e),s=H.current.has(e);s&&(V.current.next({fields:r,name:e,isReset:!0}),(re.current.isDirty||re.current.dirtyFields)&&t.shouldDirty&&(U(te.current.dirtyFields,e,K(r,o(B.current,e,[]),o(te.current.dirtyFields,e,[]))),p.current.next({dirtyFields:te.current.dirtyFields,isDirty:oe(e,r)})),!r.length&&U(v.current,e,[])&&U(_.current,e,[])),n&&!n._f||s?je(e,r,s?{}:t):le(e,r,t,!0,!n),ke(e)&&p.current.next({}),j.current.next({name:e,value:r})}),[je]),getValues:n.useCallback(we,[]),reset:n.useCallback(((e,r={})=>{const t=e||B.current;if(D&&!r.keepValues)for(const s of O.current){const e=o(v.current,s);if(e&&e._f){const r=Array.isArray(e._f.refs)?e._f.refs[0]:e._f.ref;if(ye(r))try{r.closest("form").reset();break}catch(n){}}}!r.keepDefaultValues&&(B.current=Object.assign({},t)),r.keepValues||(v.current={},k.current.next({values:Object.assign({},t)}),j.current.next({value:Object.assign({},t)}),V.current.next({fields:Object.assign({},t),isReset:!0})),De(r,e),x.current=!1}),[]),clearErrors:n.useCallback((e=>{e&&(Array.isArray(e)?e:[e]).forEach((e=>G(te.current.errors,e))),p.current.next({errors:e?te.current.errors:{}})}),[]),unregister:n.useCallback(((e,r={})=>Se(e,r,!0)),[]),setError:n.useCallback(((e,r,t)=>{const n=((o(v.current,e)||{_f:{}})._f||{}).ref;U(te.current.errors,e,Object.assign(Object.assign({},r),{ref:n})),p.current.next({errors:te.current.errors,isValid:!1}),t&&t.shouldFocus&&n&&n.focus&&n.focus()}),[]),setFocus:n.useCallback((e=>o(v.current,e)._f.ref.focus()),[])}}}}]);